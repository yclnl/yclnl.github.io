{"ast":null,"code":"import _createClass from\"/home/yclnl/yclnl.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _classCallCheck from\"/home/yclnl/yclnl.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import{EventEmitter as Emitter}from\"eventemitter3\";export var AccountUpdateEvent=function AccountUpdateEvent(id){_classCallCheck(this,AccountUpdateEvent);this.id=void 0;this.id=id;};AccountUpdateEvent.type=\"AccountUpdate\";export var MarketUpdateEvent=function MarketUpdateEvent(ids){_classCallCheck(this,MarketUpdateEvent);this.ids=void 0;this.ids=ids;};MarketUpdateEvent.type=\"MarketUpdate\";export var EventEmitter=/*#__PURE__*/function(){function EventEmitter(){_classCallCheck(this,EventEmitter);this.emitter=new Emitter();}_createClass(EventEmitter,[{key:\"onMarket\",value:function onMarket(callback){var _this=this;this.emitter.on(MarketUpdateEvent.type,callback);return function(){return _this.emitter.removeListener(MarketUpdateEvent.type,callback);};}},{key:\"onAccount\",value:function onAccount(callback){var _this2=this;this.emitter.on(AccountUpdateEvent.type,callback);return function(){return _this2.emitter.removeListener(AccountUpdateEvent.type,callback);};}},{key:\"raiseAccountUpdated\",value:function raiseAccountUpdated(id){this.emitter.emit(AccountUpdateEvent.type,new AccountUpdateEvent(id));}},{key:\"raiseMarketUpdated\",value:function raiseMarketUpdated(ids){this.emitter.emit(MarketUpdateEvent.type,new MarketUpdateEvent(ids));}}]);return EventEmitter;}();","map":{"version":3,"sources":["/home/yclnl/yclnl.github.io/src/utils/eventEmitter.ts"],"names":["EventEmitter","Emitter","AccountUpdateEvent","id","type","MarketUpdateEvent","ids","emitter","callback","on","removeListener","emit"],"mappings":"kSAAA,OAASA,YAAY,GAAIC,CAAAA,OAAzB,KAAwC,eAAxC,CAEA,UAAaC,CAAAA,kBAAb,CAGE,4BAAYC,EAAZ,CAAwB,+CADxBA,EACwB,QACtB,KAAKA,EAAL,CAAUA,EAAV,CACD,CALH,CAAaD,kB,CACJE,I,CAAO,e,CAOhB,UAAaC,CAAAA,iBAAb,CAGE,2BAAYC,GAAZ,CAA8B,8CAD9BA,GAC8B,QAC5B,KAAKA,GAAL,CAAWA,GAAX,CACD,CALH,CAAaD,iB,CACJD,I,CAAO,c,CAOhB,UAAaJ,CAAAA,YAAb,yFACUO,OADV,CACoB,GAAIN,CAAAA,OAAJ,EADpB,qEAGWO,QAHX,CAGwD,gBACpD,KAAKD,OAAL,CAAaE,EAAb,CAAgBJ,iBAAiB,CAACD,IAAlC,CAAwCI,QAAxC,EAEA,MAAO,kBAAM,CAAA,KAAI,CAACD,OAAL,CAAaG,cAAb,CAA4BL,iBAAiB,CAACD,IAA9C,CAAoDI,QAApD,CAAN,EAAP,CACD,CAPH,4CASYA,QATZ,CAS0D,iBACtD,KAAKD,OAAL,CAAaE,EAAb,CAAgBP,kBAAkB,CAACE,IAAnC,CAAyCI,QAAzC,EAEA,MAAO,kBAAM,CAAA,MAAI,CAACD,OAAL,CAAaG,cAAb,CAA4BR,kBAAkB,CAACE,IAA/C,CAAqDI,QAArD,CAAN,EAAP,CACD,CAbH,gEAesBL,EAftB,CAekC,CAC9B,KAAKI,OAAL,CAAaI,IAAb,CAAkBT,kBAAkB,CAACE,IAArC,CAA2C,GAAIF,CAAAA,kBAAJ,CAAuBC,EAAvB,CAA3C,EACD,CAjBH,8DAmBqBG,GAnBrB,CAmBuC,CACnC,KAAKC,OAAL,CAAaI,IAAb,CAAkBN,iBAAiB,CAACD,IAApC,CAA0C,GAAIC,CAAAA,iBAAJ,CAAsBC,GAAtB,CAA1C,EACD,CArBH","sourcesContent":["import { EventEmitter as Emitter } from \"eventemitter3\";\n\nexport class AccountUpdateEvent {\n  static type = \"AccountUpdate\";\n  id: string;\n  constructor(id: string) {\n    this.id = id;\n  }\n}\n\nexport class MarketUpdateEvent {\n  static type = \"MarketUpdate\";\n  ids: Set<string>;\n  constructor(ids: Set<string>) {\n    this.ids = ids;\n  }\n}\n\nexport class EventEmitter {\n  private emitter = new Emitter();\n\n  onMarket(callback: (args: MarketUpdateEvent) => void) {\n    this.emitter.on(MarketUpdateEvent.type, callback);\n\n    return () => this.emitter.removeListener(MarketUpdateEvent.type, callback);\n  }\n\n  onAccount(callback: (args: AccountUpdateEvent) => void) {\n    this.emitter.on(AccountUpdateEvent.type, callback);\n\n    return () => this.emitter.removeListener(AccountUpdateEvent.type, callback);\n  }\n\n  raiseAccountUpdated(id: string) {\n    this.emitter.emit(AccountUpdateEvent.type, new AccountUpdateEvent(id));\n  }\n\n  raiseMarketUpdated(ids: Set<string>) {\n    this.emitter.emit(MarketUpdateEvent.type, new MarketUpdateEvent(ids));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}